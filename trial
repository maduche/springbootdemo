
We can directly hit the reversal endpoint even if the order is down, ensuring we don't miss it within the token expiry time. Using the Orchestra retry configuration, we can call the DCBS endpoint to get the response.

Once a reversal failure is identified using an async call, we can repeatedly call the reversal endpoint for up to an hour to get a successful response. This approach is similar to how we handle canceling pending payments asynchronously in POPS. In this case, no changes are needed to the existing produce and consume code.
Create a scheduler that runs every 10 minutes to collect failed records with lastUpdatedOn = -1. There is a chance the same record might appear in multiple batches. In such cases, fetch the latest update, and if the reversal is not completed and the token is still valid, proceed to update the record.
